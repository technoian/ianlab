fileInput.addEventListener('change', (event) => {
      const file = event.target.files[0];
      if (file && file.name.endsWith('.stl')) {
        loadSTL(file);
      } else {
        alert('Per favore carica un file .stl valido.');
      }
    });

    // Drag & Drop
    viewer.addEventListener('dragover', (e) => {
      e.preventDefault();
      viewer.classList.add('dragover');
    });

    viewer.addEventListener('dragleave', () => {
      viewer.classList.remove('dragover');
    });

    viewer.addEventListener('drop', (e) => {
      e.preventDefault();
      viewer.classList.remove('dragover');
      const file = e.dataTransfer.files[0];
      if (file && file.name.endsWith('.stl')) {
        loadSTL(file);
      } else {
        alert('Per favore rilascia un file .stl valido.');
      }
    });

    initViewer();
  </script>
</body>
</html>
