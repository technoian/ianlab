<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Preventivo Stampa 3D</title>
<style>
  body { font-family: Arial, sans-serif; margin:0; padding:0; background:#f0f0f0; }
  header, footer { background:#005f73; color:white; padding:10px 20px; text-align:center; }
  main { padding:20px; max-width:600px; margin:auto; }
  #formPreventivo { background:white; padding:15px; border-radius:8px; box-shadow:0 0 8px rgba(0,0,0,0.1); }
  label { display:block; margin-top:15px; font-weight:bold; }
  select, input[type="number"], input[type="text"], input[type="email"], textarea, button {
    width:100%; padding:6px; margin-top:5px; box-sizing:border-box;
  }
  textarea { resize:vertical; min-height:60px; }
  .material-row { display:flex; align-items:center; gap:8px; }
  .material-select { flex:3; }
  .material-quantita { flex:1; }
  .custom-button {
    display:inline-block; padding:6px 12px; background:#0a9396; color:white;
    border:none; border-radius:5px; cursor:pointer; font-size:16px; margin-top:5px;
    width:100%;
  }
  .custom-button:hover { background:#007f7f; }
  #fileNameDisplay { margin-top:5px; font-style:italic; color:#333; }
  #emailStatus { margin-top:10px; font-weight:bold; color:red; }
</style>
</head>
<body>

<header>
  <h1>Preventivo Stampa 3D</h1>
</header>

<main>
<section id="formPreventivo">
  <form id="preventivoForm" onsubmit="return false;">

    <label>Materiale e percentuale(%):</label>
    <div class="material-row">
      <select name="materiale" class="material-select">
        <option value="PLA">PLA</option>
        <option value="ABS">ABS</option>
        <option value="PETG">PETG</option>
        <option value="TPU">TPU</option>
      </select>
      <input type="number" min="1" max="100" value="100" class="material-quantita"> <span>%</span>
    </div>

    <label for="ugello">Ugello:</label>
    <select id="ugello" name="ugello">
      <option value="0.2">0.2 mm</option>
      <option value="0.4" selected>0.4 mm</option>
      <option value="0.6">0.6 mm</option>
      <option value="0.8">0.8 mm</option>
    </select>

    <label for="progetto">Libreria Progetti:</label>
    <select id="progetto" name="progetto">
      <option value="Nessun Progetto Scelto Dalla Libreria">Nessun Progetto</option>
      <option value="Progetto 1">Progetto 1</option>
      <option value="Progetto 2">Progetto 2</option>
      <option value="Progetto 3">Progetto 3</option>
      <option value="Progetto 4">Progetto 4</option>
      <option value="Progetto 5">Progetto 5</option>
      <option value="Progetto 6">Progetto 6</option>
      <option value="Progetto 7">Progetto 7</option>
      <option value="Progetto 8">Progetto 8</option>
      <option value="Progetto 9">Progetto 9</option>
      <option value="Progetto 10">Progetto 10</option>
      <option value="Progetto 11">Progetto 11</option>
      <option value="Progetto 12">Progetto 12</option>
      <option value="Progetto 13">Progetto 13</option>
      <option value="Progetto 14">Progetto 14</option>
      <option value="Progetto 15">Progetto 15</option>
      <option value="Progetto 16">Progetto 16</option>
      <option value="Progetto 17">Progetto 17</option>
      <option value="Progetto 18">Progetto 18</option>
      <option value="Progetto 19">Progetto 19</option>
      <option value="Progetto 20">Progetto 20</option>
      <option value="Progetto 21">Progetto 21</option>
    </select>

    <label for="quantita">Quantit√† (copie):</label>
    <input type="number" id="quantita" value="1" min="1">

    <label for="projectNote">Nota:</label>
    <textarea id="projectNote" placeholder="Aggiungi una nota..."></textarea>

    <label>Caricamento progetto:</label>
    <input type="file" id="file3d" accept=".stl" style="display:none;">
    <button type="button" class="custom-button" id="btnCaricaFile">Scegli File STL</button>
    <div id="fileNameDisplay">Nessun file selezionato</div>

    <label for="projectLink">Oppure link progetto Makerworld:</label>
    <input type="text" id="projectLink" placeholder="Inserisci il link del progetto...">

    <label for="nomeCliente">Nome Cliente:</label>
    <input type="text" id="nomeCliente" placeholder="Inserisci il tuo nome">

    <label for="emailCliente">Email</label>
    <input type="email" id="emailCliente" placeholder="Inserire la propria email...">

    <button id="sendFileBtn" type="button" class="custom-button">Invia Preventivo</button>
    <div id="emailStatus"></div>
  </form>
</section>
</main>

<footer>
  <h1>Preventivo Stampa 3D</h1>
</footer>

<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>

<script>
const firebaseConfig = {
  apiKey: "AIzaSyDxtlixYrN6bP8l82n7qXdvuEzAH6iUvEo",
  authDomain: "ianlab-3dservi
